<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Map App – Fixed Fullscreen</title>
<link rel="manifest" href="manifest.json">
<style>
html,body{margin:0;height:100%;background:#000;overflow:hidden}
#app{
  position:relative;
  width:100vw;
  height:100vh;
}
#map{width:100%;height:100%}

/* FLOATING CONTROLS */
.fab{
  position:absolute;
  right:14px;
  width:52px;
  height:52px;
  border-radius:50%;
  background:#1e293b;
  color:#fff;
  border:none;
  font-size:22px;
  z-index:2147483647;
}
#fsBtn{top:14px}
#installBtn{top:74px;display:none}
#northArrow{
  position:absolute;
  top:14px;
  left:14px;
  width:42px;
  height:42px;
  border-radius:50%;
  background:#1e293b;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  z-index:2147483647;
}

/* FORCE VISIBILITY IN FULLSCREEN */
#app:fullscreen .fab,
#app:fullscreen #northArrow{
  display:flex !important;
}
</style>
</head>
<body>

<div id="app">

  <!-- CONTROLS INSIDE FULLSCREEN ROOT -->
  <button id="fsBtn" class="fab">⛶</button>
  <button id="installBtn" class="fab">⬇</button>
  <div id="northArrow">N</div>

  <div id="map"></div>

</div>

<script>
const app=document.getElementById('app');
const fsBtn=document.getElementById('fsBtn');

fsBtn.onclick=()=>{
  if(!document.fullscreenElement){
    app.requestFullscreen({navigationUI:'show'});
    fsBtn.textContent='❎';
  }else{
    document.exitFullscreen();
  }
};

document.addEventListener('fullscreenchange',()=>{
  if(!document.fullscreenElement){
    fsBtn.textContent='⛶';
  }
});
</script>

</body>
</html>
